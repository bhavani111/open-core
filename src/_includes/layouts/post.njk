---
layout: layouts/base.njk
---

<article class="post">
  <header class="post-header">
    <h1>{{ title }}</h1>
    
    <div class="post-meta">
      <time datetime="{{ date.toISOString().split('T')[0] }}">
        {{ date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }) }}
      </time>
      <span class="reading-time" id="reading-time"></span>
    </div>

    {% if tags %}
      <div class="tags">
        {% for tag in tags %}
          <a href="{{ '/posts/' | url }}#{{ tag }}" class="tag">#{{ tag }}</a>
        {% endfor %}
      </div>
    {% endif %}
  </header>

  <div class="post-content">
    {{ content | safe }}
  </div>

  <div class="share-buttons">
    <h3>Share this post:</h3>
    <div style="display: flex; gap: 0.75rem;">
      <a href="https://twitter.com/intent/tweet?text={{ title | urlencode }}&url={{ site.url }}{{ page.url }}" 
         class="share-btn twitter" 
         target="_blank" 
         rel="noopener"
         aria-label="Share on Twitter">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"/>
        </svg>
      </a>
      
      <a href="https://www.linkedin.com/sharing/share-offsite/?url={{ site.url }}{{ page.url }}" 
         class="share-btn linkedin" 
         target="_blank" 
         rel="noopener"
         aria-label="Share on LinkedIn">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2z"/>
          <circle cx="4" cy="4" r="2"/>
        </svg>
      </a>
      
      <a href="https://www.facebook.com/sharer/sharer.php?u={{ site.url }}{{ page.url }}" 
         class="share-btn facebook" 
         target="_blank" 
         rel="noopener"
         aria-label="Share on Facebook">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/>
        </svg>
      </a>
      
      <a href="https://reddit.com/submit?url={{ site.url }}{{ page.url }}&title={{ title | urlencode }}" 
         class="share-btn reddit" 
         target="_blank" 
         rel="noopener"
         aria-label="Share on Reddit">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/>
        </svg>
      </a>
    </div>
  </div>

  <!-- Related Posts -->
  {% if collections and collections.posts and collections.posts.length > 1 %}
  <div class="related-posts">
    <h3>Related Posts</h3>
    <div class="related-posts-grid">
      {% set currentPost = page.url %}
      {% set relatedPosts = collections.posts | reverse | slice(0, 3) %}
      {% for post in relatedPosts %}
        {% if post.url != currentPost %}
        <div class="related-post-card">
          <h4><a href="{{ post.url }}">{{ post.data.title }}</a></h4>
          {% if post.data.description %}
            <p>{{ post.data.description }}</p>
          {% endif %}
          <time>{{ post.date.toLocaleDateString('en-US', { year: 'numeric', month: 'short' }) }}</time>
        </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
  {% endif %}

  <!-- Giscus Comments -->
  <div class="comments-section" id="comments">
    <h3>Join the Discussion</h3>
    <p>Share your thoughts, ask questions, or provide feedback on this post!</p>
    {% if site.giscus and site.giscus.enabled and site.giscus.repo and site.giscus.repoId and site.giscus.categoryId %}
    <script src="https://giscus.app/client.js"
            data-repo="{{ site.giscus.repo }}"
            data-repo-id="{{ site.giscus.repoId }}"
            data-category="{{ site.giscus.category }}"
            data-category-id="{{ site.giscus.categoryId }}"
            data-mapping="{{ site.giscus.mapping or 'pathname' }}"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="bottom"
            data-theme="preferred_color_scheme"
            data-lang="en"
            crossorigin="anonymous"
            async>
    </script>
    {% else %}
    <p class="comments-placeholder">Comments will appear here once GitHub Discussions are enabled.</p>
    {% endif %}
  </div>

  <div class="post-navigation">
    <a href="{{ '/posts/' | url }}" class="btn">‚Üê Back to All Posts</a>
  </div>
</article>

<script>
  // Calculate reading time
  const content = document.querySelector('.post-content');
  const text = content.textContent;
  const wordCount = text.trim().split(/\s+/).length;
  const readingTime = Math.ceil(wordCount / 200); // Average reading speed: 200 words per minute
  document.getElementById('reading-time').textContent = `${readingTime} min read`;
</script>

<style>
.post-header {
  margin-bottom: 2rem;
  padding-bottom: 2rem;
  border-bottom: 2px solid var(--border-color);
}

.post-header h1 {
  margin: 0 0 1rem 0;
  font-size: 2.5rem;
  line-height: 1.2;
  color: var(--text-color);
}

.post-meta {
  display: flex;
  align-items: center;
  gap: 1rem;
  color: var(--text-muted);
  font-size: 0.95rem;
}

.post-content {
  font-size: 1.1rem;
  line-height: 1.8;
  margin-bottom: 3rem;
}

.post-content h2 {
  margin-top: 2.5rem;
  margin-bottom: 1rem;
  font-size: 1.75rem;
  color: var(--text-color);
}

.post-content h3 {
  margin-top: 2rem;
  margin-bottom: 0.75rem;
  font-size: 1.4rem;
  color: var(--text-color);
}

.post-content p {
  margin-bottom: 1.5rem;
}

.post-content code {
  background: var(--code-bg);
  padding: 0.2rem 0.4rem;
  border-radius: 0.25rem;
  font-size: 0.9em;
  font-family: 'Courier New', monospace;
}

.post-content pre {
  background: var(--code-bg);
  padding: 1.5rem;
  border-radius: 0.5rem;
  overflow-x: auto;
  margin: 1.5rem 0;
  border: 1px solid var(--border-color);
}

.post-content pre code {
  background: none;
  padding: 0;
}

.post-content ul, .post-content ol {
  margin-bottom: 1.5rem;
  padding-left: 2rem;
}

.post-content li {
  margin-bottom: 0.5rem;
}

.post-content a {
  color: var(--primary-color);
  text-decoration: underline;
}

.post-content a:hover {
  color: var(--primary-hover);
}

.post-navigation {
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 2px solid var(--border-color);
}

/* Related Posts */
.related-posts {
  margin: 3rem 0;
  padding-top: 2rem;
  border-top: 2px solid var(--border-color);
}

.related-posts h3 {
  margin-bottom: 1.5rem;
  color: var(--text-color);
}

.related-posts-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1.5rem;
}

.related-post-card {
  background: rgba(255, 255, 255, 0.5);
  backdrop-filter: blur(5px);
  padding: 1.5rem;
  border-radius: 0.75rem;
  border: 1px solid var(--border-color);
  transition: all 0.3s ease;
}

.related-post-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
}

.related-post-card h4 {
  margin: 0 0 0.5rem 0;
  font-size: 1.1rem;
}

.related-post-card h4 a {
  color: var(--primary-color);
  text-decoration: none;
}

.related-post-card h4 a:hover {
  text-decoration: underline;
}

.related-post-card p {
  color: var(--text-muted);
  font-size: 0.9rem;
  margin: 0.5rem 0;
}

.related-post-card time {
  color: var(--text-muted);
  font-size: 0.85rem;
}

[data-theme="dark"] .related-post-card {
  background: rgba(17, 24, 39, 0.5);
}

[data-theme="dark"] .related-post-card:hover {
  background: rgba(17, 24, 39, 0.8);
}

/* Comments Section */
.comments-section {
  margin: 3rem 0;
  padding: 2rem;
  background: var(--bg-secondary);
  border-radius: 0.75rem;
  border: 1px solid var(--border-color);
}

.comments-section h3 {
  margin: 0 0 0.5rem 0;
  color: var(--text-color);
}

.comments-section p {
  color: var(--text-muted);
  margin-bottom: 1.5rem;
}

html[data-theme="dark"] .comments-section {
  background: var(--bg-secondary);
}

.comments-placeholder {
  margin: 1rem 0 0;
  font-size: 0.95rem;
}

@media (max-width: 768px) {
  .post-header h1 {
    font-size: 1.75rem;
  }

  .post-content {
    font-size: 1rem;
  }

  .post-meta {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
  }

  .related-posts-grid {
    grid-template-columns: 1fr;
  }
}
</style>

